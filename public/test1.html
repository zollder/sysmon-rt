<!DOCTYPE html>
<html>
	<head>
		<script src="bower_components/d3/d3.js" charset="UTF-8"></script>
		<script src="bower_components/angular/angular.js" charset="UTF-8"></script>
<!-- 		<script type="text/javascript">
		
		      // Application Module 
		      angular.module('myApp', [])
	
		      // Main application controller
		      .controller('MainCtrl', ["$scope", "$http", function ($scope, $http) {
		    	  var logdata;
		    	  var url = "files/access.log";
		    	  $http.get(url).then(function(response) {
		    		  logdata = response.data;
		    		  console.log(logdata);
		    		  
			    	  var lines = logdata.trim().split("\n").map(function(line) {
			    		  return line.split(/[-"]/gi).map(function(element) {
			    			  return element.trim().replace(/["\[\]]/gi, '');
			    		  });
			    	  });
			    	  console.log(lines);
			    	  
			    	  var parseTime = d3.timeParse("%d/%b/%Y:%H:%M:%S %Z");
			    	  lines = lines.map(function(items) {
			    		  return {
			    			  ip: items[0],
			    			  time: parseTime(items[2]),
			    			  request: items[3],
			    			  status: items[4],
			    			  agent: items[8]
			    		  };
			    	  });
			    	  console.log(lines);
		          });
		      }]);
		</script> -->
		<style type="text/css">
			path {
				stroke: steelblue;
				stroke-width: 2;
				fill: none;
			}
			circle {
				stroke: none;
			}
		</style>
	</head>
	<!-- <body ng-controller="MainCtrl"> -->
	<body>
		<script type="text/javascript">
		
			var svg = d3.select("body").append("svg")
				.attr("width", 800)
				.attr("height", 400);
			
			var g = svg.append("g");
			
			var quadratic1 = svg.append("path")
				.attr("d", 'M15,15 Q200,300 400,100 Q500,50 800,100');
			var quadratic2 = svg.append("path")
				.attr("d", 'M15,215 Q200,500 400,300 T800,300');
			
/* 				var line1 = svg.append("path")
					.style("stroke", 'steelblue')
					.attr("d", 'M15,15  L100,100 300,100 400,15');

				var hline1 = svg.append("path")
					.style("stroke", 'red')
					.attr("d", 'M15,5  H400');
				
				var hline2 = svg.append("path")
					.style("stroke", 'red')
					.attr("d", 'M15,110  H400');
				
				var vline1 = svg.append("path")
					.style("stroke", 'green')
					.attr("d", 'M5,5 V110');
				
				var vline2 = svg.append("path")
					.style("stroke", 'green')
					.attr("d", 'M410,5  V110');
				
				var cubic = svg.append("path")
					.attr("d", 'M15,15 C15,300 200,15 400,200');
				
				var g = svg.append("g");
				
				g.selectAll("circle.vline")
					.data([[5,5], [5,110], [410, 5], [410, 110]])
					.enter()
					.append("circle")
					.attr("class", 'vline')
					.style("fill", 'green')
					.attr("cx", function(d) {return d[0]; })
					.attr("cy", function(d) {return d[1]; })
					.attr("r", 3);

				g.selectAll("circle.hline")
					.data([[15,5], [15,110], [400, 5], [400, 110]])
					.enter()
					.append("circle")
					.attr("class", 'vline')
					.style("fill", 'red')
					.attr("cx", function(d) {return d[0]; })
					.attr("cy", function(d) {return d[1]; })
					.attr("r", 3);

				g.selectAll("circle.hline")
					.data([[15,15], [100,100], [300, 100], [400, 15]])
					.enter()
					.append("circle")
					.attr("class", 'line')
					.style("fill", 'steelblue')
					.attr("cx", function(d) {return d[0]; })
					.attr("cy", function(d) {return d[1]; })
					.attr("r", 3); */
				
		</script>
	</body>
</html>